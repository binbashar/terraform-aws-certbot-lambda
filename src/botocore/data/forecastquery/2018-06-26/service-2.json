{
  "documentation": "<p>Provides APIs for creating and managing Amazon Forecast resources.</p>",
  "metadata": {
    "apiVersion": "2018-06-26",
    "endpointPrefix": "forecastquery",
    "jsonVersion": "1.1",
    "protocol": "json",
    "serviceFullName": "Amazon Forecast Query Service",
    "serviceId": "forecastquery",
    "signatureVersion": "v4",
    "signingName": "forecast",
    "targetPrefix": "AmazonForecastRuntime",
    "uid": "forecastquery-2018-06-26"
  },
  "operations": {
    "QueryForecast": {
      "documentation": "<p>Retrieves a forecast for a single item, filtered by the supplied criteria.</p> <p>The criteria is a key-value pair. The key is either <code>item_id</code> (or the equivalent non-timestamp, non-target field) from the <code>TARGET_TIME_SERIES</code> dataset, or one of the forecast dimensions specified as part of the <code>FeaturizationConfig</code> object.</p> <p>By default, <code>QueryForecast</code> returns the complete date range for the filtered forecast. You can request a specific date range.</p> <p>To get the full forecast, use the <a href=\"https://docs.aws.amazon.com/en_us/forecast/latest/dg/API_CreateForecastExportJob.html\">CreateForecastExportJob</a> operation.</p> <note> <p>The forecasts generated by Amazon Forecast are in the same timezone as the dataset that was used to create the predictor.</p> </note>",
      "errors": [
        {
          "shape": "ResourceNotFoundException"
        },
        {
          "shape": "ResourceInUseException"
        },
        {
          "shape": "InvalidInputException"
        },
        {
          "shape": "LimitExceededException"
        },
        {
          "shape": "InvalidNextTokenException"
        }
      ],
      "http": {
        "method": "POST",
        "requestUri": "/"
      },
      "input": {
        "shape": "QueryForecastRequest"
      },
      "name": "QueryForecast",
      "output": {
        "shape": "QueryForecastResponse"
      }
    }
  },
  "shapes": {
    "Arn": {
      "max": 256,
      "pattern": "arn:([a-z\\d-]+):forecast:.*:.*:.+",
      "type": "string"
    },
    "AttributeName": {
      "max": 256,
      "pattern": "^[a-zA-Z0-9\\_\\-]+$",
      "type": "string"
    },
    "AttributeValue": {
      "max": 256,
      "type": "string"
    },
    "DataPoint": {
      "documentation": "<p>The forecast value for a specific date. Part of the <a>Forecast</a> object.</p>",
      "members": {
        "Timestamp": {
          "documentation": "<p>The timestamp of the specific forecast.</p>",
          "shape": "Timestamp"
        },
        "Value": {
          "documentation": "<p>The forecast value.</p>",
          "shape": "Double"
        }
      },
      "type": "structure"
    },
    "DateTime": {
      "type": "string"
    },
    "Double": {
      "type": "double"
    },
    "ErrorMessage": {
      "type": "string"
    },
    "Filters": {
      "key": {
        "shape": "AttributeName"
      },
      "max": 50,
      "min": 1,
      "type": "map",
      "value": {
        "shape": "AttributeValue"
      }
    },
    "Forecast": {
      "documentation": "<p>Provides information about a forecast. Returned as part of the <a>QueryForecast</a> response.</p>",
      "members": {
        "Predictions": {
          "documentation": "<p>The forecast.</p> <p>The <i>string</i> of the string-to-array map is one of the following values:</p> <ul> <li> <p>p10</p> </li> <li> <p>p50</p> </li> <li> <p>p90</p> </li> </ul>",
          "shape": "Predictions"
        }
      },
      "type": "structure"
    },
    "InvalidInputException": {
      "documentation": "<p>The value is invalid or is too long.</p>",
      "exception": true,
      "members": {
        "Message": {
          "shape": "ErrorMessage"
        }
      },
      "type": "structure"
    },
    "InvalidNextTokenException": {
      "documentation": "<p>The token is not valid. Tokens expire after 24 hours.</p>",
      "exception": true,
      "members": {
        "Message": {
          "shape": "ErrorMessage"
        }
      },
      "type": "structure"
    },
    "LimitExceededException": {
      "documentation": "<p>The limit on the number of requests per second has been exceeded.</p>",
      "exception": true,
      "members": {
        "Message": {
          "shape": "ErrorMessage"
        }
      },
      "type": "structure"
    },
    "NextToken": {
      "max": 3000,
      "min": 1,
      "type": "string"
    },
    "Predictions": {
      "key": {
        "shape": "Statistic"
      },
      "type": "map",
      "value": {
        "shape": "TimeSeries"
      }
    },
    "QueryForecastRequest": {
      "members": {
        "EndDate": {
          "documentation": "<p>The end date for the forecast. Specify the date using this format: yyyy-MM-dd'T'HH:mm:ss (ISO 8601 format). For example, 2015-01-01T20:00:00. </p>",
          "shape": "DateTime"
        },
        "Filters": {
          "documentation": "<p>The filtering criteria to apply when retrieving the forecast. For example, to get the forecast for <code>client_21</code> in the electricity usage dataset, specify the following:</p> <p> <code>{\"item_id\" : \"client_21\"}</code> </p> <p>To get the full forecast, use the <a href=\"https://docs.aws.amazon.com/en_us/forecast/latest/dg/API_CreateForecastExportJob.html\">CreateForecastExportJob</a> operation.</p>",
          "shape": "Filters"
        },
        "ForecastArn": {
          "documentation": "<p>The Amazon Resource Name (ARN) of the forecast to query.</p>",
          "shape": "Arn"
        },
        "NextToken": {
          "documentation": "<p>If the result of the previous request was truncated, the response includes a <code>NextToken</code>. To retrieve the next set of results, use the token in the next request. Tokens expire after 24 hours.</p>",
          "shape": "NextToken"
        },
        "StartDate": {
          "documentation": "<p>The start date for the forecast. Specify the date using this format: yyyy-MM-dd'T'HH:mm:ss (ISO 8601 format). For example, 2015-01-01T08:00:00.</p>",
          "shape": "DateTime"
        }
      },
      "required": [
        "ForecastArn",
        "Filters"
      ],
      "type": "structure"
    },
    "QueryForecastResponse": {
      "members": {
        "Forecast": {
          "documentation": "<p>The forecast.</p>",
          "shape": "Forecast"
        }
      },
      "type": "structure"
    },
    "ResourceInUseException": {
      "documentation": "<p>The specified resource is in use.</p>",
      "exception": true,
      "members": {
        "Message": {
          "shape": "ErrorMessage"
        }
      },
      "type": "structure"
    },
    "ResourceNotFoundException": {
      "documentation": "<p>We can't find that resource. Check the information that you've provided and try again.</p>",
      "exception": true,
      "members": {
        "Message": {
          "shape": "ErrorMessage"
        }
      },
      "type": "structure"
    },
    "Statistic": {
      "max": 4,
      "type": "string"
    },
    "TimeSeries": {
      "member": {
        "shape": "DataPoint"
      },
      "type": "list"
    },
    "Timestamp": {
      "type": "string"
    }
  },
  "version": "2.0"
}
